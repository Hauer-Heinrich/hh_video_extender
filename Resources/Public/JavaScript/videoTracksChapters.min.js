(()=>{window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);window.addEventListener("load",()=>{let d=document.documentElement.lang.toLowerCase()||"en",l="en";document.querySelectorAll("video").forEach(a=>{let s=Array.from(a.textTracks),e=s.find(n=>n.kind==="chapters"&&n.language===d);if(e||(e=s.find(n=>n.kind==="chapters"&&n.language===l)),!e)return;e.mode="hidden";let o=document.createElement("div");o.classList.add("video-chapters"),a.insertAdjacentElement("afterend",o);let r=[];function u(n){o.innerHTML="",r.length=0;for(let c of n){let t=document.createElement("button");t.className="chapter-button",t.textContent=c.text,t.addEventListener("click",()=>{a.currentTime=c.startTime,a.play()}),r.push({cue:c,button:t}),o.appendChild(t)}a.addEventListener("timeupdate",()=>{let c=a.currentTime;for(let{cue:t,button:i}of r)c>=t.startTime&&c<t.endTime?i.classList.add("active"):i.classList.remove("active")})}let m=setInterval(()=>{e.cues&&e.cues.length>0&&(clearInterval(m),u(e.cues))},100)})});})();
//# sourceMappingURL=videoTracksChapters.min.js.map
